---
import { getCollection } from 'astro:content';

import BaseLayout from '@layouts/BaseLayout.astro';
import Container from '@components/Container.astro';
import PageTitle from '@components/PageTitle.astro';
import { slugify } from '@scripts/utils'

const allPosts = await getCollection("blogs");
const allCategories = [...new Set(allPosts.map((post) => post.data.category))];

---

<BaseLayout>
    <Container outerClass="mt-16 sm:mt-32">
      <PageTitle
        title="Category"
        intro="All categories"
      />
      <div class="mt-16">
      <div class=" flex gap-4">
        {
          allCategories.map((category) => 
            <div class="space-x-2 text-xs font-medium">
              <a href={`categories/${slugify(category)}`}>
                <span class="inline-flex items-center p-2 text-zinc-500 bg-zinc-300/50 ring-1 ring-inset ring-gray-500/50 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-zinc-800/90 dark:border-gray-700 dark:text-zinc-400 dark:hover:bg-gray-700 dark:hover:text-white mb-4">
                  # {category}
                </span>
              </a>
            </div>
          )
        }
      </div>
      </div>
    </Container>
</BaseLayout>